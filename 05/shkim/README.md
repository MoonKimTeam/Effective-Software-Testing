# 속성 기반 테스트

우리는 테스트하고자 하는 속성을 표현만 하고, 테스트 프레임워크가 우리를 위해 몇 가지 구체적인 예를 선택하도록 할 수 있다면 <br>
테스트는 구체적인 예제에 덜 의존하고, 다양한 입력 매개변수로 테스트 대상 메서드를 여러 번 호출할 수 있을 것이다.

## 예제) 합격 등급 프로그램

학생들은 grade >= 5.0이면 시험을 통과한다. 그 아래는 시험에서 떨어진다. 등급은 1.0 ~ 10.0 범위이다.

```java
public class PassingGrade {
    public boolean passed(float grade) {
        if (grade < 1.0 || grade > 10.0) {
            throw IllegalArgumentException();
        }
        return grade >= 5.0;
    }
}
```

속성 기반 테스트를 통해 프로그램이 가져야 하는 속성을 정의한다.

- fail: 1.0에서 5.0까지의 범위에 있는 모든 수에 대해 프로그램은 false를 반환
- pass: 5.0에서 10.0까지의 범위에 있는 모든 수에 대해 프로그램은 true를 반환
- invalid: 유효하지 않은 등급에 대해, 프로그램은 예외를 던짐

## 예제) Basket 클래스 테스트

<img width="686" alt="스크린샷 2024-05-26 오후 2 50 11" src="https://github.com/MoonKimTeam/Effective-Software-Testing/assets/87420630/5416bc20-3894-4121-9dee-bae9bc5851f6">

1. 모든 사전 조건을 검사
2. 나중에 사후 조건에서 사용할 이전 값을 저장
3. 제품이 이미 장바구니에 있으면 수량을 더한다
4. 제품의 이전 합계와 새로운 수량을 감안하여 최종 합계를 계산
5. 장바구니에 있는 제품 가격의 합계에서 이전 합계를 빼고, 새로운 제품 가격의 합계를 더함
6. 사후 조건 및 불변식을 검사

<br>

<img width="710" alt="스크린샷 2024-05-26 오후 2 54 20" src="https://github.com/MoonKimTeam/Effective-Software-Testing/assets/87420630/a880a1f4-5a42-4cef-ab00-956985340b8a">

1. 사전 조건을 검사
2. 장바구니 전체 가격에서 차감할 가격을 계산
3. 해시 맵에서 제품을 제거
4. 사후 조건과 불변식을 검사

<br>

물건 추가부터 테스트하자.
1. 제품과 수량을 받는다
2. 장바구니에 물건을 추가한다
3. 나중에 단언문에서 사용할 현재 장바구니의 총가격을 구한다
4. 장바구니에서 계산한 합계와 이전 총계에서 더해서 구한 합계가 같은지 단언한다

다음은 물건 제거 테스트이다.

1. 나중에 단언문에서 사용할 현재 장바구니의 총가격을 구한다
2. 장바구니에서 제거할 요소를 무작위로 고른다
3. 제거한 물건값을 고려하여 장바구니의 총 가격을 계산한다
4. 앞에서 계산한 값과 장바구니를 통해 계산한 값이 같은지 단언한다





















